<!DOCTYPE html>
<html lang="en">
	<head>
		<script async src="https://arc.io/widget.min.js#ehs8Ko9s"></script>
		<link rel="icon" href="/images/whisper.png" type="image/gif" sizes="16x16">
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
			integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk="
			crossorigin="anonymous"
		/>
		<link rel="stylesheet" href="/css/index-style.css" />
		<title>Whisper</title>
	</head>
	<body onload="load();">
		<div id="amethyst" style="position: fixed; top: 0%; left: 0%; z-index: -3;"></div>
		<div class="all-container">
			<div class="join-container" id="join-main">
				<header class="join-header">
					<h1><i class="fas fa-fire"></i> Whisper</h1>
				</header>
				<main class="join-main tab">
					<form action="connect" autocomplete="off">
						<div class="form-control">
							<label for="username">Username</label>
							<input
								type="text"
								name="username"
								id="username"
								placeholder="What should people call you?"
								required
								size="40"
							/>
						</div>
						<div class="form-control" id="connect">
							<label for="room">Room Name</label>
							<input
								type="text"
								name="room"
								id="room"
								placeholder="Leave empty to randomize" 
								size="40"
							/>
						</div>
						<div class="align-btnsc">
						<button class="btn-sc"><span>Start Chatting</span></button>
						</div>
					</form>
				</main>
			</div>
		</div>
		<script src='https://unpkg.com/trianglify@^4/dist/trianglify.bundle.js'></script>
    <script>
      function load() {
				if (window.innerWidth > 600) {
				var scale = Math.min( 
					(window.innerWidth * 0.6) / 500, 
					(window.innerHeight * 0.6) / 361 
				);
				document.getElementById('join-main').style.transform = "scale(" + scale + ")";
			} else {
				document.getElementById('join-main').style.transform = "";
			}
        var amethyst = document.getElementById("amethyst");
        while (amethyst.firstChild) {
          amethyst.removeChild(amethyst.firstChild);
        }
        var colors = ['#347deb', '#34aeeb', '#347deb','#344feb', '#34c9eb']
      var pattern = trianglify({
      cellSize: 70,
      variance: 1,
      xColors: colors,
      yColors: colors,
      colorSpace: 'rgb',
      strokeWidth: 1.51,
      width: window.innerWidth,
      height: window.innerHeight
      });
      document.getElementById('amethyst').appendChild(pattern.toCanvas())
			}
      window.addEventListener('resize', load);
    </script>
	</body>
</html>